<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Register - Fresh & Healthy</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
      /* Responsive Design for Register */
      @media (max-width: 768px) {
          .card {
              margin: 1rem;
              padding: 1.5rem !important;
              border-radius: 12px !important;
              max-width: 100% !important;
          }
          
          .brand-logo {
              width: 50px !important;
              height: 50px !important;
          }
          
          .brand-logo i {
              font-size: 25px !important;
          }
          
          h2 {
              font-size: 1.5rem !important;
          }
          
          p {
              font-size: 0.9rem !important;
          }
          
          .form-label {
              font-size: 0.9rem !important;
          }
          
          .form-control {
              padding: 0.7rem !important;
              font-size: 0.9rem !important;
          }
          
          .btn {
              padding: 0.8rem !important;
              font-size: 0.9rem !important;
          }
          
          #skipNowBtn {
              top: 12px !important;
              right: 12px !important;
              padding: 0.5rem 1rem !important;
              font-size: 0.8rem !important;
          }
          
          .row .col {
              margin-bottom: 1rem;
          }
      }
      
      @media (max-width: 480px) {
          main {
              padding: 0.5rem;
          }
          
          .card {
              margin: 0.5rem;
              padding: 1rem !important;
              border-radius: 8px !important;
          }
          
          .brand-logo {
              width: 45px !important;
              height: 45px !important;
          }
          
          .brand-logo i {
              font-size: 22px !important;
          }
          
          h2 {
              font-size: 1.3rem !important;
          }
          
          p {
              font-size: 0.85rem !important;
          }
          
          .form-label {
              font-size: 0.85rem !important;
          }
          
          .form-control {
              padding: 0.6rem !important;
              font-size: 0.85rem !important;
          }
          
          .btn {
              padding: 0.7rem !important;
              font-size: 0.85rem !important;
          }
          
          #skipNowBtn {
              top: 8px !important;
              right: 8px !important;
              padding: 0.4rem 0.8rem !important;
              font-size: 0.75rem !important;
          }
          
          .row .col {
              margin-bottom: 0.8rem;
          }
      }
  </style>
</head>
<body>
    <script>
    // Show persistent email already registered popup
    if (localStorage.getItem('registerEmailExists') === '1') {
        localStorage.removeItem('registerEmailExists');
        const popup = document.createElement('div');
        popup.innerHTML = `
            <div style="display: flex; align-items: center; gap: 0.7rem;">
                <span style="display: flex; align-items: center; justify-content: center; width: 2.2rem; height: 2.2rem; background: #fffbe6; border-radius: 50%; box-shadow: 0 2px 8px rgba(255,193,7,0.10);">
                    <svg width='28' height='28' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><circle cx='12' cy='12' r='12' fill='#ffc107'/><path d='M12 7v5m0 4h.01' stroke='#fff' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'/></svg>
                </span>
                <span style="font-size: 1.1rem; font-weight: 600; color: #b26a00;">Email already registered</span>
                <button id="closeEmailExistsPopup" style="margin-left:1.2rem; background:transparent; border:none; font-size:1.3rem; color:#b26a00; cursor:pointer;">&times;</button>
            </div>
            <div style="margin-left:2.9rem; margin-top:0.2rem; font-size:0.98rem; color:#555;">Instead Try <a href='login.html' style='color:#388e3c; font-weight:600; text-decoration:underline;'>Log in</a></div>
        `;
        popup.style.position = 'fixed';
        popup.style.top = '32px';
        popup.style.left = '50%';
        popup.style.transform = 'translateX(-50%)';
        popup.style.background = '#fffbe6';
        popup.style.border = '1.5px solid #ffc107';
        popup.style.boxShadow = '0 6px 32px rgba(255,193,7,0.13)';
        popup.style.borderRadius = '2.2rem';
        popup.style.padding = '0.7rem 2.2rem 0.7rem 1.2rem';
        popup.style.zIndex = '9999';
        popup.style.opacity = '1';
        popup.style.pointerEvents = 'auto';
        document.body.appendChild(popup);
        document.getElementById('closeEmailExistsPopup').onclick = function() {
            popup.remove();
        };
    }
    </script>
  <main class="d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="card shadow p-4 position-relative" style="max-width: 500px; width: 100%; border-radius: 16px;">
      <a href="#" id="skipNowBtn" class="btn position-absolute" style="top: 16px; right: 16px; z-index: 2; font-weight:600; background:var(--primary-color); color:white; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.08); border:none;">Skip Now</a>
      <div class="text-center mb-4">
        <div class="brand-logo mb-2" style="width:60px;height:60px;background:var(--primary-color);border-radius:12px;display:inline-flex;align-items:center;justify-content:center;">
          <i class="fas fa-cube" style="font-size:30px;color:white;"></i>
        </div>
        <h2 class="fw-bold" style="color:var(--primary-color);">Create Your Account</h2>
        <p class="text-secondary">Sign up to start your journey with us</p>
      </div>
      <form action="register.php" method="POST" id="registerForm">
        <div class="row mb-3">
          <div class="col">
            <label for="first_name" class="form-label">First Name</label>
            <input type="text" id="first_name" name="first_name" class="form-control" placeholder="First Name" required>
          </div>
          <div class="col">
            <label for="last_name" class="form-label">Last Name</label>
            <input type="text" id="last_name" name="last_name" class="form-control" placeholder="Last Name" required>
    </div>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email Address</label>
          <input type="email" id="email" name="email" class="form-control" placeholder="you@example.com" required>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" id="password" name="password" class="form-control" placeholder="Create a password" required>
      </div>
        <div class="mb-3">
          <label for="confirm_password" class="form-label">Confirm Password</label>
          <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="Confirm your password" required>
        </div>
        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" id="terms" name="terms" required>
          <label class="form-check-label" for="terms">
            I agree to the <a href="#" style="color:var(--primary-color);">Terms & Conditions</a>
        </label>
      </div>
        <button type="submit" class="btn w-100" style="background:var(--primary-color);color:white;font-weight:600;">Register</button>
      </form>
      <div class="text-center mt-3">
        <span>Already have an account?</span> <a href="login.html" class="text-decoration-none" style="color:var(--primary-color);font-weight:500;">Login</a>
      </div>
      </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Remove guest flag on register page load
    localStorage.removeItem('isGuest');
    // Set skippedLogin on Skip Now
    document.getElementById('skipNowBtn').addEventListener('click', function(e) {
        e.preventDefault();
        localStorage.setItem('skippedLogin', 'true');
        window.location.href = 'home_page.html?skip=1';
    });

    // Password match validation
    document.getElementById('registerForm').addEventListener('submit', function(e) {
      const pass = document.getElementById('password').value;
      const confirm = document.getElementById('confirm_password').value;
      if (pass !== confirm) {
        e.preventDefault();
        // Remove any existing popup
        const oldPopup = document.getElementById('passwordMismatchPopup');
        if (oldPopup) oldPopup.remove();
        // Create new popup
        const popup = document.createElement('div');
        popup.id = 'passwordMismatchPopup';
        popup.innerHTML = `
          <div style="display: flex; align-items: center; gap: 0.7rem;">
            <span style="display: flex; align-items: center; justify-content: center; width: 2.2rem; height: 2.2rem; background: #ffebee; border-radius: 50%; box-shadow: 0 2px 8px rgba(244,67,54,0.10);">
              <svg width='28' height='28' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><circle cx='12' cy='12' r='12' fill='#e53935'/><path d='M15 9L9 15M9 9l6 6' stroke='#fff' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'/></svg>
            </span>
            <span style="font-size: 1.1rem; font-weight: 600; color: #b71c1c;">Passwords not matched</span>
            <button id="closePasswordMismatchPopup" style="margin-left:1.2rem; background:transparent; border:none; font-size:1.3rem; color:#b71c1c; cursor:pointer;">&times;</button>
          </div>
        `;
        popup.style.position = 'fixed';
        popup.style.top = '32px';
        popup.style.left = '50%';
        popup.style.transform = 'translateX(-50%)';
        popup.style.background = '#ffebee';
        popup.style.border = '1.5px solid #e53935';
        popup.style.boxShadow = '0 6px 32px rgba(244,67,54,0.13)';
        popup.style.borderRadius = '2.2rem';
        popup.style.padding = '0.7rem 2.2rem 0.7rem 1.2rem';
        popup.style.zIndex = '9999';
        popup.style.opacity = '1';
        popup.style.pointerEvents = 'auto';
        document.body.appendChild(popup);
        document.getElementById('closePasswordMismatchPopup').onclick = function() {
          popup.remove();
        };
      }
    });
  </script>
</body>
</html> 